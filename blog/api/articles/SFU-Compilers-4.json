{"title":"SFU Compilers class 笔记4","uid":"4f7d6d0fadf06b2d208599f31c49d097","slug":"SFU-Compilers-4","date":"2022-07-29T04:00:00.000Z","updated":"2024-01-05T07:02:52.286Z","comments":true,"path":"api/articles/SFU-Compilers-4.json","keywords":null,"cover":null,"content":"<h1 id=\"SFU-Compilers-笔记-4-语法分析2\"><a href=\"#SFU-Compilers-笔记-4-语法分析2\" class=\"headerlink\" title=\"SFU Compilers 笔记 4 语法分析2\"></a>SFU Compilers 笔记 4 语法分析2</h1><p>week7 hw2</p>\n<h2 id=\"Week-7-Syntax-Directed-Translation\"><a href=\"#Week-7-Syntax-Directed-Translation\" class=\"headerlink\" title=\"Week 7 Syntax Directed Translation\"></a>Week 7 Syntax Directed Translation</h2><h3 id=\"LR6-Syntax-Directed-Translation-for-LR-Parsers\"><a href=\"#LR6-Syntax-Directed-Translation-for-LR-Parsers\" class=\"headerlink\" title=\"LR6 Syntax Directed Translation for LR Parsers\"></a>LR6 Syntax Directed Translation for LR Parsers</h3><p>语法导向翻译（SDT）用于将解析树（Parse trees）转成中间代码（IR）</p>\n<p>个人感觉实际上就是讲了yacc中的属性语法的原理和作用</p>\n<p><strong>属性语法</strong></p>\n<ul>\n<li>语法导向翻译 使用语法生成代码</li>\n<li>使用上下文无关语法（CFG）</li>\n<li>每个语法符号与一个属性关联</li>\n<li>属性可以是字符串、数字、树等对象</li>\n<li>属性语法将字符串与属性关联起来</li>\n<li>Attribute grammars are a method to decorate or annotate the parse tree with the desired output attributes<br>  我的理解是：属性语法是解析树上的“装饰器”，随解析树的生成被调用；目的是为了利用解析树，构建我们所需的输出。</li>\n</ul>\n<h3 id=\"Decaf-and-LLVM\"><a href=\"#Decaf-and-LLVM\" class=\"headerlink\" title=\"Decaf and LLVM\"></a>Decaf and LLVM</h3><p>主要讲LLVM的一些基础概念，感觉讲的不完全</p>\n<p>Control Flow in LLVM hw3不需要，hw4需要</p>\n<h2 id=\"Homework-2-Parser-for-Decaf\"><a href=\"#Homework-2-Parser-for-Decaf\" class=\"headerlink\" title=\"Homework 2 Parser for Decaf\"></a>Homework 2 Parser for Decaf</h2><p>前置条件：yacc-practice</p>\n<p>目录：<code>decafast</code></p>\n<p>复制<code>default</code>为<code>decafast</code>：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cp default.cc decafast.cc\ncp default.lex decafast.lex\ncp default.y decafast.y</code></pre>\n\n\n\n<p>并修改三个文件中的<code>include</code>：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>decafast.cc</code> ： <code>#include &quot;default.tab.h&quot;</code> 改为 <code>#include &quot;decafast.tab.h&quot;</code></p>\n<p><code>decafast.lex</code> ： <code>#include &quot;default.tab.h&quot;</code> 改为 <code>#include &quot;decafast.tab.h&quot;</code>.</p>\n<p><code>decafast.y</code> ： <code>#include &quot;default.cc&quot;</code> 改为 <code>#include &quot;decafast.cc&quot;</code></p></blockquote>\n<p>wsl2平台下需要修改makefile：</p>\n<p>不需要<code>yacclib=y</code>以及<code>-l$(yacclib)</code></p>\n<p>去掉或将其改为<code>l</code>或<code>m</code></p>\n<ul>\n<li><p>var a, b int;</p>\n</li>\n<li><p>op</p>\n</li>\n<li><p><code>return ()</code>，AST等价于<code>return</code>，但yyparse的返回值为1</p>\n</li>\n<li><p>VarDecls，在statement中间有VarDecls，AST等价于将定义放在statement前面，但yyparse的返回值为1</p>\n</li>\n</ul>\n","text":"SFU Compilers 笔记 4 语法分析2week7 hw2 Week 7 Syntax Directed TranslationLR6 Syntax Directed Translation for LR Parsers语法导向翻译（SDT）用于将解析树（Parse tr...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"CS","slug":"CS","count":6,"path":"api/categories/CS.json"}],"tags":[{"name":"note","slug":"note","count":25,"path":"api/tags/note.json"},{"name":"cs","slug":"cs","count":6,"path":"api/tags/cs.json"},{"name":"compiler","slug":"compiler","count":6,"path":"api/tags/compiler.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#SFU-Compilers-%E7%AC%94%E8%AE%B0-4-%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%902\"><span class=\"toc-text\">SFU Compilers 笔记 4 语法分析2</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Week-7-Syntax-Directed-Translation\"><span class=\"toc-text\">Week 7 Syntax Directed Translation</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#LR6-Syntax-Directed-Translation-for-LR-Parsers\"><span class=\"toc-text\">LR6 Syntax Directed Translation for LR Parsers</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Decaf-and-LLVM\"><span class=\"toc-text\">Decaf and LLVM</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Homework-2-Parser-for-Decaf\"><span class=\"toc-text\">Homework 2 Parser for Decaf</span></a></li></ol></li></ol>","author":{"name":"御史神风","slug":"御史神风","avatar":"/blog/imgs/child.jpg","link":"/","description":"芜湖~好耶!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"SFU Compilers class 笔记5","uid":"40c2cd491a15172739073405816f8de7","slug":"SFU-Compilers-5","date":"2022-09-19T04:00:00.000Z","updated":"2024-01-05T07:02:57.747Z","comments":true,"path":"api/articles/SFU-Compilers-5.json","keywords":null,"cover":[],"text":"SFU Compilers 笔记 5 语义分析和代码生成1week8 week9 week10 week11 Week 8 Semantics and Runtime SupportSEM1 Scoping语义分析的目标 确保程序有明确意义 验证前面两步分析中，没有捕获的程序的属...","link":"","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"CS","slug":"CS","count":6,"path":"api/categories/CS.json"}],"tags":[{"name":"note","slug":"note","count":25,"path":"api/tags/note.json"},{"name":"cs","slug":"cs","count":6,"path":"api/tags/cs.json"},{"name":"compiler","slug":"compiler","count":6,"path":"api/tags/compiler.json"}],"author":{"name":"御史神风","slug":"御史神风","avatar":"/blog/imgs/child.jpg","link":"/","description":"芜湖~好耶!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"B站x64内核笔记2 PG","uid":"6b5e22753329d2c346dcd0a78d93034d","slug":"zh-patchguard","date":"2022-07-06T04:00:00.000Z","updated":"2022-09-26T10:27:16.767Z","comments":true,"path":"api/articles/zh-patchguard.json","keywords":null,"cover":null,"text":"PatchGuardStep 1 设 BigPool 不可执行编写一个驱动，遍历BigPool信息，将可疑的BigPool设置为不可执行，等待蓝屏 然后分析蓝屏信息得到context入口点，简要分析context入口点 1 查询所有BigPool使用ZwQuerySystemIn...","link":"","photos":[],"count_time":{"symbolsCount":"9k","symbolsTime":"8 mins."},"categories":[{"name":"Windows","slug":"Windows","count":19,"path":"api/categories/Windows.json"}],"tags":[{"name":"windows","slug":"windows","count":19,"path":"api/tags/windows.json"},{"name":"note","slug":"note","count":25,"path":"api/tags/note.json"},{"name":"kernel","slug":"kernel","count":5,"path":"api/tags/kernel.json"}],"author":{"name":"御史神风","slug":"御史神风","avatar":"/blog/imgs/child.jpg","link":"/","description":"芜湖~好耶!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}